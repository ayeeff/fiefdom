<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Global EEZ Viewer</title>
  <script src="https://unpkg.com/globe.gl"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      overflow: hidden;
      background: #000;
    }
    
    #globe-container {
      width: 100vw;
      height: 100vh;
    }
    
    .loading {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: white;
      font-size: 20px;
      z-index: 1000;
      text-align: center;
    }
    
    .loading-icon {
      font-size: 40px;
      margin-bottom: 10px;
      animation: spin 2s linear infinite;
    }
    
    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    
    .info-panel {
      position: absolute;
      top: 20px;
      left: 20px;
      color: white;
      background: rgba(0,0,0,0.8);
      padding: 20px;
      border-radius: 10px;
      z-index: 1000;
      max-width: 320px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.3);
    }
    
    .info-panel h2 {
      margin: 0 0 12px 0;
      font-size: 20px;
      font-weight: bold;
    }
    
    .info-panel p {
      margin: 8px 0;
      font-size: 14px;
      line-height: 1.5;
    }
    
    .info-panel .tips {
      margin: 10px 0 0 0;
      font-size: 12px;
      opacity: 0.8;
      line-height: 1.4;
    }
    
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <div id="loading" class="loading">
    <div class="loading-icon">üåç</div>
    <div>Loading Globe...</div>
  </div>
  
  <div class="info-panel">
    <h2>üåç Global EEZ Viewer</h2>
    <p>
      Exclusive Economic Zones extend 200 nautical miles from coastlines, giving nations rights over marine resources.
    </p>
    <p class="tips">
      üí° Hover over colored zones for details<br>
      üîÑ Globe auto-rotates when not hovering
    </p>
  </div>
  
  <div id="globe-container"></div>

  <script>
    // Create sample EEZ data for major countries
    function createSampleEEZData() {
      return {
        type: 'FeatureCollection',
        features: [
          {
            type: 'Feature',
            properties: { country: 'France (Atlantic)', color: 'rgba(0, 85, 164, 0.4)' },
            geometry: {
              type: 'Polygon',
              coordinates: [[
                [-5, 42], [-5, 51], [3, 51], [3, 42], [-5, 42]
              ]]
            }
          },
          {
            type: 'Feature',
            properties: { country: 'United States (East Coast)', color: 'rgba(178, 34, 52, 0.4)' },
            geometry: {
              type: 'Polygon',
              coordinates: [[
                [-80, 25], [-80, 45], [-65, 45], [-65, 25], [-80, 25]
              ]]
            }
          },
          {
            type: 'Feature',
            properties: { country: 'United States (West Coast)', color: 'rgba(178, 34, 52, 0.4)' },
            geometry: {
              type: 'Polygon',
              coordinates: [[
                [-130, 30], [-130, 50], [-117, 50], [-117, 30], [-130, 30]
              ]]
            }
          },
          {
            type: 'Feature',
            properties: { country: 'Japan', color: 'rgba(188, 0, 45, 0.4)' },
            geometry: {
              type: 'Polygon',
              coordinates: [[
                [128, 30], [128, 46], [146, 46], [146, 30], [128, 30]
              ]]
            }
          },
          {
            type: 'Feature',
            properties: { country: 'Australia', color: 'rgba(0, 0, 139, 0.4)' },
            geometry: {
              type: 'Polygon',
              coordinates: [[
                [110, -45], [110, -10], [155, -10], [155, -45], [110, -45]
              ]]
            }
          },
          {
            type: 'Feature',
            properties: { country: 'Brazil', color: 'rgba(0, 156, 59, 0.4)' },
            geometry: {
              type: 'Polygon',
              coordinates: [[
                [-50, -35], [-50, 5], [-30, 5], [-30, -35], [-50, -35]
              ]]
            }
          },
          {
            type: 'Feature',
            properties: { country: 'Norway', color: 'rgba(186, 12, 47, 0.4)' },
            geometry: {
              type: 'Polygon',
              coordinates: [[
                [4, 58], [4, 71], [31, 71], [31, 58], [4, 58]
              ]]
            }
          },
          {
            type: 'Feature',
            properties: { country: 'Indonesia', color: 'rgba(204, 0, 0, 0.4)' },
            geometry: {
              type: 'Polygon',
              coordinates: [[
                [95, -11], [95, 6], [141, 6], [141, -11], [95, -11]
              ]]
            }
          },
          {
            type: 'Feature',
            properties: { country: 'Canada (Pacific)', color: 'rgba(255, 0, 0, 0.4)' },
            geometry: {
              type: 'Polygon',
              coordinates: [[
                [-140, 48], [-140, 60], [-123, 60], [-123, 48], [-140, 48]
              ]]
            }
          },
          {
            type: 'Feature',
            properties: { country: 'Canada (Atlantic)', color: 'rgba(255, 0, 0, 0.4)' },
            geometry: {
              type: 'Polygon',
              coordinates: [[
                [-70, 42], [-70, 60], [-50, 60], [-50, 42], [-70, 42]
              ]]
            }
          },
          {
            type: 'Feature',
            properties: { country: 'Argentina', color: 'rgba(116, 172, 223, 0.4)' },
            geometry: {
              type: 'Polygon',
              coordinates: [[
                [-68, -55], [-68, -36], [-53, -36], [-53, -55], [-68, -55]
              ]]
            }
          },
          {
            type: 'Feature',
            properties: { country: 'India', color: 'rgba(255, 153, 51, 0.4)' },
            geometry: {
              type: 'Polygon',
              coordinates: [[
                [68, 8], [68, 23], [88, 23], [88, 8], [68, 8]
              ]]
            }
          },
          {
            type: 'Feature',
            properties: { country: 'New Zealand', color: 'rgba(0, 36, 125, 0.4)' },
            geometry: {
              type: 'Polygon',
              coordinates: [[
                [166, -47], [166, -34], [179, -34], [179, -47], [166, -47]
              ]]
            }
          },
          {
            type: 'Feature',
            properties: { country: 'South Africa', color: 'rgba(0, 119, 73, 0.4)' },
            geometry: {
              type: 'Polygon',
              coordinates: [[
                [16, -40], [16, -28], [33, -28], [33, -40], [16, -40]
              ]]
            }
          },
          {
            type: 'Feature',
            properties: { country: 'United Kingdom', color: 'rgba(1, 33, 105, 0.4)' },
            geometry: {
              type: 'Polygon',
              coordinates: [[
                [-11, 50], [-11, 61], [2, 61], [2, 50], [-11, 50]
              ]]
            }
          },
          {
            type: 'Feature',
            properties: { country: 'China', color: 'rgba(222, 41, 16, 0.4)' },
            geometry: {
              type: 'Polygon',
              coordinates: [[
                [108, 18], [108, 40], [123, 40], [123, 18], [108, 18]
              ]]
            }
          },
          {
            type: 'Feature',
            properties: { country: 'Mexico', color: 'rgba(0, 104, 71, 0.4)' },
            geometry: {
              type: 'Polygon',
              coordinates: [[
                [-118, 14], [-118, 32], [-87, 32], [-87, 14], [-118, 14]
              ]]
            }
          },
          {
            type: 'Feature',
            properties: { country: 'Chile', color: 'rgba(0, 56, 168, 0.4)' },
            geometry: {
              type: 'Polygon',
              coordinates: [[
                [-85, -56], [-85, -17], [-67, -17], [-67, -56], [-85, -56]
              ]]
            }
          },
          {
            type: 'Feature',
            properties: { country: 'Philippines', color: 'rgba(0, 56, 168, 0.4)' },
            geometry: {
              type: 'Polygon',
              coordinates: [[
                [116, 5], [116, 21], [127, 21], [127, 5], [116, 5]
              ]]
            }
          },
          {
            type: 'Feature',
            properties: { country: 'Iceland', color: 'rgba(2, 82, 156, 0.4)' },
            geometry: {
              type: 'Polygon',
              coordinates: [[
                [-25, 63], [-25, 67], [-13, 67], [-13, 63], [-25, 63]
              ]]
            }
          }
        ]
      };
    }

    // Initialize globe when page loads
    window.addEventListener('load', function() {
      const container = document.getElementById('globe-container');
      const loading = document.getElementById('loading');
      const sampleEEZ = createSampleEEZData();

      // Create globe
      const globe = Globe()
        (container)
        .globeImageUrl('https://unpkg.com/three-globe/example/img/earth-blue-marble.jpg')
        .bumpImageUrl('https://unpkg.com/three-globe/example/img/earth-topology.png')
        .backgroundImageUrl('https://unpkg.com/three-globe/example/img/night-sky.png')
        .showAtmosphere(true)
        .atmosphereColor('#3a228a')
        .atmosphereAltitude(0.15)
        .polygonsData(sampleEEZ.features)
        .polygonAltitude(0.01)
        .polygonCapColor(d => d.properties.color)
        .polygonSideColor(() => 'rgba(100, 100, 200, 0.15)')
        .polygonStrokeColor(() => '#00aaff')
        .polygonLabel(d => `
          <div style="background: rgba(0,0,0,0.85); padding: 10px 12px; border-radius: 6px; color: white; font-family: sans-serif;">
            <b style="font-size: 14px;">${d.properties.country}</b><br/>
            <span style="font-size: 12px; opacity: 0.9;">Exclusive Economic Zone</span><br/>
            <span style="font-size: 11px; opacity: 0.7;">200 nautical miles from coast</span>
          </div>
        `)
        .onPolygonHover(hoverD => {
          globe.controls().autoRotate = !hoverD;
        });

      // Set initial view
      globe.pointOfView({ altitude: 2.5 });

      // Auto-rotate
      globe.controls().autoRotate = true;
      globe.controls().autoRotateSpeed = 0.4;

      // Hide loading indicator
      loading.classList.add('hidden');

      // Handle window resize
      window.addEventListener('resize', function() {
        globe.width(container.clientWidth);
        globe.height(container.clientHeight);
      });
    });
  </script>
</body>
</html>
