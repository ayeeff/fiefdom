<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Deadly Mountains Dashboard</title>
    <style>
        body {
            min-height: 100vh;
            background: linear-gradient(to bottom right, #0f172a, #1e293b, #0f172a);
            color: white;
            padding: 1.5rem;
            font-family: sans-serif;
        }
        .container {
            max-width: 80rem;
            margin: 0 auto;
        }
        .header {
            margin-bottom: 2rem;
            text-align: center;
        }
        .header h1 {
            font-size: 3rem;
            font-weight: bold;
            margin-bottom: 0.75rem;
            background: linear-gradient(to right, #f87171, #fb923c);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        .header p {
            color: #cbd5e1;
            font-size: 1.125rem;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        @media (min-width: 768px) {
            .stats-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }
        .stat-card {
            background: rgba(30, 41, 59, 0.5);
            backdrop-filter: blur(20px);
            border-radius: 0.75rem;
            padding: 1rem;
            border: 1px solid #334155;
        }
        .stat-card .flex {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        .icon {
            width: 2rem;
            height: 2rem;
        }
        .mountain {
            color: #60a5fa;
        }
        .skull {
            color: #f87171;
        }
        .trending-up {
            color: #4ade80;
        }
        .dollar-sign {
            color: #fbbf24;
        }
        .label {
            color: #94a3b1;
            font-size: 0.875rem;
        }
        .value {
            font-size: 1.5rem;
            font-weight: bold;
        }
        .interactive-section {
            display: block;
            margin-bottom: 1.5rem;
        }
        .interactive-section.selected {
            display: flex;
            gap: 1rem;
        }
        .map-container {
            background: rgba(30, 41, 59, 0.5);
            backdrop-filter: blur(20px);
            border-radius: 0.75rem;
            padding: 1rem;
            border: 1px solid #334155;
            flex: 1;
        }
        .map-container h2 {
            font-size: 1.25rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }
        .map {
            height: 24rem;
            border-radius: 0.5rem;
            overflow: hidden;
            width: 100%;
        }
        .legend {
            margin-top: 1rem;
            display: flex;
            align-items: center;
            gap: 1.5rem;
            font-size: 0.875rem;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .color {
            width: 1rem;
            height: 1rem;
            border-radius: 50%;
        }
        .low {
            background: #10b981;
        }
        .medium {
            background: #f59e0b;
        }
        .high {
            background: #f97316;
        }
        .extreme {
            background: #ef4444;
        }
        .selected-image-container {
            flex: 1;
            display: none;
            background: rgba(30, 41, 59, 0.5);
            backdrop-filter: blur(20px);
            border-radius: 0.75rem;
            padding: 1rem;
            border: 1px solid #334155;
        }
        .selected-image-container h3 {
            font-size: 1.25rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        .selected-img {
            width: 100%;
            height: 24rem;
            object-fit: cover;
            border-radius: 0.5rem;
        }
        .mountains-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
        }
        @media (min-width: 1024px) {
            .mountains-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        .mountain-card {
            background: rgba(30, 41, 59, 0.5);
            backdrop-filter: blur(20px);
            border-radius: 0.75rem;
            padding: 1rem;
            border: 1px solid #334155;
            cursor: pointer;
            transition: all 0.2s;
        }
        .mountain-card:hover {
            transform: scale(1.02);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }
        .selected {
            border-color: #f97316 !important;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
        }
        .top {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }
        .left {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }
        .rank {
            font-size: 1.5rem;
            font-weight: bold;
            color: #94a3b1;
        }
        .mountain-card h3 {
            font-size: 1.25rem;
            font-weight: bold;
        }
        .mountain-card p {
            color: #94a3b1;
            font-size: 0.875rem;
        }
        .badge {
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: bold;
            color: white;
        }
        .bottom {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-top: 0.75rem;
            font-size: 0.875rem;
        }
        .label {
            color: #94a3b1;
        }
        .value {
            font-weight: bold;
        }
        .deaths {
            color: #f87171;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>World's Deadliest Mountains</h1>
            <p>14 Peaks Above 8,000m - Ranked by Fatality Rate</p>
        </div>
        <div class="stats-grid">
            <div class="stat-card">
                <div class="flex">
                    <svg class="icon mountain" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="m8 3 4 8 5-5 5 15H2L8 3z"/>
                    </svg>
                    <div>
                        <div class="label">Total Peaks</div>
                        <div class="value">14</div>
                    </div>
                </div>
            </div>
            <div class="stat-card">
                <div class="flex">
                    <svg class="icon skull" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="m12.5 17-.5-1-.5 1h1z"/>
                        <path d="M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z"/>
                        <circle cx="15" cy="12" r="1"/>
                        <circle cx="9" cy="12" r="1"/>
                    </svg>
                    <div>
                        <div class="label">Total Deaths</div>
                        <div class="value">1,199+</div>
                    </div>
                </div>
            </div>
            <div class="stat-card">
                <div class="flex">
                    <svg class="icon trending-up" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M16 7h6v6"/>
                        <path d="m22 7-8.5 8.5-5-5L2 17"/>
                    </svg>
                    <div>
                        <div class="label">Total Summits</div>
                        <div class="value">22,735+</div>
                    </div>
                </div>
            </div>
            <div class="stat-card">
                <div class="flex">
                    <svg class="icon dollar-sign" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="12" x2="12" y1="2" y2="22"/>
                        <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
                    </svg>
                    <div>
                        <div class="label">Avg Cost</div>
                        <div class="value">$25k</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="interactive-section">
            <div class="map-container">
                <h2>Himalayan & Karakoram Range</h2>
                <div id="map" class="map"></div>
                <div class="legend">
                    <div class="legend-item">
                        <div class="color low"></div>
                        <span>Low Risk (&lt;5%)</span>
                    </div>
                    <div class="legend-item">
                        <div class="color medium"></div>
                        <span>Medium (5-10%)</span>
                    </div>
                    <div class="legend-item">
                        <div class="color high"></div>
                        <span>High (10-20%)</span>
                    </div>
                    <div class="legend-item">
                        <div class="color extreme"></div>
                        <span>Extreme (&gt;20%)</span>
                    </div>
                </div>
            </div>
            <div class="selected-image-container">
                <h3 id="selected-title"></h3>
                <img id="selected-img" src="" alt="" class="selected-img">
            </div>
        </div>
        <div class="mountains-grid">
            <div class="mountain-card" data-rank="1">
                <div class="top">
                    <div class="left">
                        <span class="rank">#1</span>
                        <h3>Cho Oyu</h3>
                        <p>Nepal/Tibet</p>
                    </div>
                    <div class="badge" style="background-color:#10b981">Fatality Rate: 1.2%</div>
                </div>
                <div class="bottom">
                    <div>
                        <div class="label">Height</div>
                        <div class="value">8,188m</div>
                    </div>
                    <div>
                        <div class="value deaths">(3,600 summits, 44 deaths)</div>
                    </div>
                    <div>
                        <div class="label">Price to Summit Peak</div>
                        <div class="value">$20,000–$30,000</div>
                    </div>
                </div>
            </div>
            <div class="mountain-card" data-rank="2">
                <div class="top">
                    <div class="left">
                        <span class="rank">#2</span>
                        <h3>Lhotse</h3>
                        <p>Nepal</p>
                    </div>
                    <div class="badge" style="background-color:#10b981">Fatality Rate: 2%</div>
                </div>
                <div class="bottom">
                    <div>
                        <div class="label">Height</div>
                        <div class="value">8,516m</div>
                    </div>
                    <div>
                        <div class="value deaths">(1,000 summits, 20 deaths)</div>
                    </div>
                    <div>
                        <div class="label">Price to Summit Peak</div>
                        <div class="value">$25,000–$35,000</div>
                    </div>
                </div>
            </div>
            <div class="mountain-card" data-rank="3">
                <div class="top">
                    <div class="left">
                        <span class="rank">#3</span>
                        <h3>Mount Everest</h3>
                        <p>Nepal/Tibet</p>
                    </div>
                    <div class="badge" style="background-color:#10b981">Fatality Rate: 3%</div>
                </div>
                <div class="bottom">
                    <div>
                        <div class="label">Height</div>
                        <div class="value">8,848m</div>
                    </div>
                    <div>
                        <div class="value deaths">(11,000+ summits, 335 deaths)</div>
                    </div>
                    <div>
                        <div class="label">Price to Summit Peak</div>
                        <div class="value">$40,000–$70,000</div>
                    </div>
                </div>
            </div>
            <div class="mountain-card" data-rank="4">
                <div class="top">
                    <div class="left">
                        <span class="rank">#4</span>
                        <h3>Gasherbrum II</h3>
                        <p>Pakistan</p>
                    </div>
                    <div class="badge" style="background-color:#10b981">Fatality Rate: 3%</div>
                </div>
                <div class="bottom">
                    <div>
                        <div class="label">Height</div>
                        <div class="value">8,035m</div>
                    </div>
                    <div>
                        <div class="value deaths">(930 summits, 30 deaths)</div>
                    </div>
                    <div>
                        <div class="label">Price to Summit Peak</div>
                        <div class="value">$12,000–$18,000</div>
                    </div>
                </div>
            </div>
            <div class="mountain-card" data-rank="5">
                <div class="top">
                    <div class="left">
                        <span class="rank">#5</span>
                        <h3>Broad Peak</h3>
                        <p>Pakistan</p>
                    </div>
                    <div class="badge" style="background-color:#f59e0b">Fatality Rate: 9%</div>
                </div>
                <div class="bottom">
                    <div>
                        <div class="label">Height</div>
                        <div class="value">8,051m</div>
                    </div>
                    <div>
                        <div class="value deaths">(445 summits, 40 deaths)</div>
                    </div>
                    <div>
                        <div class="label">Price to Summit Peak</div>
                        <div class="value">$13,000–$20,000</div>
                    </div>
                </div>
            </div>
            <div class="mountain-card" data-rank="6">
                <div class="top">
                    <div class="left">
                        <span class="rank">#6</span>
                        <h3>Manaslu</h3>
                        <p>Nepal</p>
                    </div>
                    <div class="badge" style="background-color:#f59e0b">Fatality Rate: 5.7%</div>
                </div>
                <div class="bottom">
                    <div>
                        <div class="label">Height</div>
                        <div class="value">8,163m</div>
                    </div>
                    <div>
                        <div class="value deaths">(2,000+ summits, 100+ deaths)</div>
                    </div>
                    <div>
                        <div class="label">Price to Summit Peak</div>
                        <div class="value">$24,000–$30,000</div>
                    </div>
                </div>
            </div>
            <div class="mountain-card" data-rank="7">
                <div class="top">
                    <div class="left">
                        <span class="rank">#7</span>
                        <h3>Makalu</h3>
                        <p>Nepal/Tibet</p>
                    </div>
                    <div class="badge" style="background-color:#f59e0b">Fatality Rate: 7%</div>
                </div>
                <div class="bottom">
                    <div>
                        <div class="label">Height</div>
                        <div class="value">8,485m</div>
                    </div>
                    <div>
                        <div class="value deaths">(525 summits, 35 deaths)</div>
                    </div>
                    <div>
                        <div class="label">Price to Summit Peak</div>
                        <div class="value">$25,000–$35,000</div>
                    </div>
                </div>
            </div>
            <div class="mountain-card" data-rank="8">
                <div class="top">
                    <div class="left">
                        <span class="rank">#8</span>
                        <h3>Shishapangma</h3>
                        <p>Tibet</p>
                    </div>
                    <div class="badge" style="background-color:#f59e0b">Fatality Rate: 8%</div>
                </div>
                <div class="bottom">
                    <div>
                        <div class="label">Height</div>
                        <div class="value">8,027m</div>
                    </div>
                    <div>
                        <div class="value deaths">(350 summits, 30 deaths)</div>
                    </div>
                    <div>
                        <div class="label">Price to Summit Peak</div>
                        <div class="value">$22,000–$28,000</div>
                    </div>
                </div>
            </div>
            <div class="mountain-card" data-rank="9">
                <div class="top">
                    <div class="left">
                        <span class="rank">#9</span>
                        <h3>Gasherbrum I</h3>
                        <p>Pakistan</p>
                    </div>
                    <div class="badge" style="background-color:#f59e0b">Fatality Rate: 9%</div>
                </div>
                <div class="bottom">
                    <div>
                        <div class="label">Height</div>
                        <div class="value">8,080m</div>
                    </div>
                    <div>
                        <div class="value deaths">(350 summits, 30 deaths)</div>
                    </div>
                    <div>
                        <div class="label">Price to Summit Peak</div>
                        <div class="value">$14,000–$20,000</div>
                    </div>
                </div>
            </div>
            <div class="mountain-card" data-rank="10">
                <div class="top">
                    <div class="left">
                        <span class="rank">#10</span>
                        <h3>Dhaulagiri</h3>
                        <p>Nepal</p>
                    </div>
                    <div class="badge" style="background-color:#f97316">Fatality Rate: 13%</div>
                </div>
                <div class="bottom">
                    <div>
                        <div class="label">Height</div>
                        <div class="value">8,167m</div>
                    </div>
                    <div>
                        <div class="value deaths">(500+ summits, 70 deaths)</div>
                    </div>
                    <div>
                        <div class="label">Price to Summit Peak</div>
                        <div class="value">$25,000–$35,000</div>
                    </div>
                </div>
            </div>
            <div class="mountain-card" data-rank="11">
                <div class="top">
                    <div class="left">
                        <span class="rank">#11</span>
                        <h3>Kangchenjunga</h3>
                        <p>Nepal/India</p>
                    </div>
                    <div class="badge" style="background-color:#f97316">Fatality Rate: 18%</div>
                </div>
                <div class="bottom">
                    <div>
                        <div class="label">Height</div>
                        <div class="value">8,586m</div>
                    </div>
                    <div>
                        <div class="value deaths">(<500 summits, 85+ deaths)</div>
                    </div>
                    <div>
                        <div class="label">Price to Summit Peak</div>
                        <div class="value">$25,000–$35,000</div>
                    </div>
                </div>
            </div>
            <div class="mountain-card" data-rank="12">
                <div class="top">
                    <div class="left">
                        <span class="rank">#12</span>
                        <h3>Nanga Parbat</h3>
                        <p>Pakistan</p>
                    </div>
                    <div class="badge" style="background-color:#ef4444">Fatality Rate: 20%</div>
                </div>
                <div class="bottom">
                    <div>
                        <div class="label">Height</div>
                        <div class="value">8,126m</div>
                    </div>
                    <div>
                        <div class="value deaths">(450 summits, 85+ deaths)</div>
                    </div>
                    <div>
                        <div class="label">Price to Summit Peak</div>
                        <div class="value">$20,000–$30,000</div>
                    </div>
                </div>
            </div>
            <div class="mountain-card" data-rank="13">
                <div class="top">
                    <div class="left">
                        <span class="rank">#13</span>
                        <h3>K2</h3>
                        <p>Pakistan/China</p>
                    </div>
                    <div class="badge" style="background-color:#ef4444">Fatality Rate: 26%</div>
                </div>
                <div class="bottom">
                    <div>
                        <div class="label">Height</div>
                        <div class="value">8,611m</div>
                    </div>
                    <div>
                        <div class="value deaths">(520 summits, 135+ deaths)</div>
                    </div>
                    <div>
                        <div class="label">Price to Summit Peak</div>
                        <div class="value">$30,000–$45,000</div>
                    </div>
                </div>
            </div>
            <div class="mountain-card" data-rank="14">
                <div class="top">
                    <div class="left">
                        <span class="rank">#14</span>
                        <h3>Annapurna</h3>
                        <p>Nepal</p>
                    </div>
                    <div class="badge" style="background-color:#ef4444">Fatality Rate: 30%</div>
                </div>
                <div class="bottom">
                    <div>
                        <div class="label">Height</div>
                        <div class="value">8,091m</div>
                    </div>
                    <div>
                        <div class="value deaths">(365 summits, 110+ deaths)</div>
                    </div>
                    <div>
                        <div class="label">Price to Summit Peak</div>
                        <div class="value">$28,000–$40,000</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        const mountains = [
            {rank:1,name:"Cho Oyu",country:"Nepal/Tibet",height:8188,fatality:1.2,cost:"$20,000–$30,000",lat:28.055833,lon:86.634167,summits:3600,deaths:44,image:"https://images.unsplash.com/photo-1745677617575-62b14956f2d1?auto=format&fit=crop&w=900&q=80"},
            {rank:2,name:"Lhotse",country:"Nepal",height:8516,fatality:2,cost:"$25,000–$35,000",lat:27.961111,lon:86.961111,summits:1000,deaths:20,image:"https://images.unsplash.com/photo-1682530633989-8ffe02334466?auto=format&fit=crop&w=900&q=80"},
            {rank:3,name:"Mount Everest",country:"Nepal/Tibet",height:8848,fatality:3,cost:"$40,000–$70,000",lat:27.988056,lon:86.925278,summits:11000,deaths:335,image:"https://images.unsplash.com/photo-1486911278844-a81c5267e227?auto=format&fit=crop&w=900&q=80"},
            {rank:4,name:"Gasherbrum II",country:"Pakistan",height:8035,fatality:3,cost:"$12,000–$18,000",lat:35.704722,lon:76.651944,summits:930,deaths:30,image:"https://images.unsplash.com/photo-1627896259735-c3b69d107727?auto=format&fit=crop&w=900&q=80"},
            {rank:5,name:"Broad Peak",country:"Pakistan",height:8051,fatality:9,cost:"$13,000–$20,000",lat:35.780556,lon:76.570556,summits:445,deaths:40,image:"https://images.unsplash.com/photo-1627896161046-efd564e91368?auto=format&fit=crop&w=900&q=80"},
            {rank:6,name:"Manaslu",country:"Nepal",height:8163,fatality:5.7,cost:"$24,000–$30,000",lat:28.555556,lon:84.556111,summits:2000,deaths:100,image:"https://images.unsplash.com/photo-1727081243076-de156d350781?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8TWFuYXNsdXxlbnwwfHwwfHx8MA%3D%3D"},
            {rank:7,name:"Makalu",country:"Nepal/Tibet",height:8485,fatality:7,cost:"$25,000–$35,000",lat:27.889167,lon:87.080833,summits:525,deaths:35,image:"https://images.unsplash.com/photo-1540979388789-6cee28a1cdc9?auto=format&fit=crop&w=900&q=80"},
            {rank:8,name:"Shishapangma",country:"Tibet",height:8027,fatality:8,cost:"$22,000–$28,000",lat:28.352222,lon:84.605556,summits:350,deaths:30,image:"https://upload.wikimedia.org/wikipedia/commons/thumb/9/98/8%2C013m_Shishapangma_Tibet_China_%E8%A5%BF%E8%97%8F_%E5%B8%8C%E5%A4%8F%E9%82%A6%E9%A9%AC%E5%B3%B0_-_panoramio.jpg/960px-8%2C013m_Shishapangma_Tibet_China_%E8%A5%BF%E8%97%8F_%E5%B8%8C%E5%A4%8F%E9%82%A6%E9%A9%AC%E5%B3%B0_-_panoramio.jpg"},
            {rank:9,name:"Gasherbrum I",country:"Pakistan",height:8080,fatality:9,cost:"$14,000–$20,000",lat:35.720556,lon:76.699444,summits:350,deaths:30,image:"https://images.unsplash.com/photo-1627896259735-c3b69d107727?auto=format&fit=crop&w=900&q=80"},
            {rank:10,name:"Dhaulagiri",country:"Nepal",height:8167,fatality:13,cost:"$25,000–$35,000",lat:28.699167,lon:83.386667,summits:500,deaths:70,image:"https://images.unsplash.com/photo-1727212082051-e4daaf1bc571?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8RGhhdWxhZ2lyaXxlbnwwfHwwfHx8MA%3D%3D"},
            {rank:11,name:"Kangchenjunga",country:"Nepal/India",height:8586,fatality:18,cost:"$25,000–$35,000",lat:27.702222,lon:88.148611,summits:500,deaths:85,image:"https://images.unsplash.com/photo-1718696070605-db38369c5629?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8S2FuZ2NoZW5qdW5nYXxlbnwwfHwwfHx8MA%3D%3D"},
            {rank:12,name:"Nanga Parbat",country:"Pakistan",height:8126,fatality:20,cost:"$20,000–$30,000",lat:35.203889,lon:74.589167,summits:450,deaths:85,image:"https://images.unsplash.com/photo-1684925092698-9f69ba626b1c?auto=format&fit=crop&w=900&q=80"},
            {rank:13,name:"K2",country:"Pakistan/China",height:8611,fatality:26,cost:"$30,000–$45,000",lat:35.882222,lon:76.513333,summits:520,deaths:135,image:"https://images.unsplash.com/photo-1627896157734-4d7d4388f28b?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8SzIlMjBtb3VudGFpbnxlbnwwfHwwfHx8MA%3D%3D"},
            {rank:14,name:"Annapurna",country:"Nepal",height:8091,fatality:30,cost:"$28,000–$40,000",lat:28.566667,lon:83.883333,summits:365,deaths:110,image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?auto=format&fit=crop&w=900&q=80"}
        ];
        const getDangerColor = (fatality) => {
            if (fatality < 5) return '#10b981';
            if (fatality < 10) return '#f59e0b';
            if (fatality < 20) return '#f97316';
            return '#ef4444';
        };
        let selectedMountain = null;
        const setSelectedMountain = (mountain) => {
            const interactiveSection = document.querySelector('.interactive-section');
            const container = document.querySelector('.selected-image-container');
            if (selectedMountain && selectedMountain.rank === mountain.rank) {
                // deselect
                if (interactiveSection) interactiveSection.classList.remove('selected');
                if (container) container.style.display = 'none';
                if (window.map) {
                    setTimeout(() => {
                        window.map.setView([30, 83], 5);
                        window.map.invalidateSize();
                    }, 150);
                }
                selectedMountain = null;
                const card = document.querySelector(`[data-rank="${mountain.rank}"]`);
                if (card) card.classList.remove('selected');
                return;
            }
            // select
            if (selectedMountain) {
                const prevCard = document.querySelector(`[data-rank="${selectedMountain.rank}"]`);
                if (prevCard) prevCard.classList.remove('selected');
            }
            const card = document.querySelector(`[data-rank="${mountain.rank}"]`);
            if (card) card.classList.add('selected');
            selectedMountain = mountain;
            if (container) container.style.display = 'block';
            const titleEl = document.getElementById('selected-title');
            const imgEl = document.getElementById('selected-img');
            if (titleEl && imgEl) {
                titleEl.textContent = `Photo of ${mountain.name}`;
                imgEl.src = mountain.image;
                imgEl.alt = `Photo of ${mountain.name}`;
            }
            if (interactiveSection) interactiveSection.classList.add('selected');
            if (window.map) {
                setTimeout(() => {
                    window.map.invalidateSize();
                    window.map.setView([mountain.lat, mountain.lon], 12);
                }, 150);
            }
        };
        const initMap = () => {
            if (!window.L || !document.getElementById('map')) return;
            const L = window.L;
            const map = L.map('map').setView([30, 83], 5);
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '© OpenStreetMap contributors',
                maxZoom: 18
            }).addTo(map);
            const markers = mountains.map(mountain => {
                const color = getDangerColor(mountain.fatality);
                const size = mountain.fatality + 10;
                const icon = L.divIcon({
                    className: 'custom-marker',
                    html: `<div style="background-color:${color};width:${size}px;height:${size}px;border-radius:50%;border:3px solid white;box-shadow:0 2px 8px rgba(0,0,0,0.4);cursor:pointer;"></div>`,
                    iconSize: [size, size],
                    iconAnchor: [size / 2, size / 2]
                });
                const marker = L.marker([mountain.lat, mountain.lon], { icon }).addTo(map).bindPopup(
                    `<strong>${mountain.name}</strong><br>${mountain.height}m<br>Fatality: ${mountain.fatality}%`
                );
                marker.on('click', () => setSelectedMountain(mountain));
                return marker;
            });
            window.map = map;
        };
        document.addEventListener('DOMContentLoaded', () => {
            const link = document.createElement('link');
            link.rel = 'stylesheet';
            link.href = 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css';
            document.head.appendChild(link);
            const script = document.createElement('script');
            script.src = 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js';
            script.async = true;
            script.onload = () => initMap();
            document.body.appendChild(script);
            document.querySelectorAll('.mountain-card').forEach(card => {
                card.addEventListener('click', () => {
                    const rank = parseInt(card.dataset.rank);
                    const mountain = mountains.find(m => m.rank === rank);
                    if (mountain) setSelectedMountain(mountain);
                });
            });
        });
    </script>
</body>
</html>
